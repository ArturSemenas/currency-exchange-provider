# ===================================================================
# CURRENCY EXCHANGE PROVIDER - APPLICATION CONFIGURATION
# ===================================================================
# This is the default configuration for development environment.
# For production, use: --spring.profiles.active=prod

# ===================================================================
# SERVER CONFIGURATION
# ===================================================================
# Port on which the application runs
server.port=8080

# Application name (used in logs and monitoring)
spring.application.name=currency-exchange-provider

# ===================================================================
# DATABASE CONFIGURATION
# ===================================================================
# PostgreSQL database connection settings
spring.datasource.url=jdbc:postgresql://localhost:5432/currency_exchange_db
spring.datasource.username=postgres
spring.datasource.password=postgres
spring.datasource.driver-class-name=org.postgresql.Driver

# ===================================================================
# JPA/HIBERNATE CONFIGURATION
# ===================================================================
# DDL auto mode: none (let Liquibase handle schema)
spring.jpa.hibernate.ddl-auto=none

# Show SQL queries in console (useful for development)
spring.jpa.show-sql=false

# Format SQL queries for better readability
spring.jpa.properties.hibernate.format_sql=true

# ===================================================================
# LIQUIBASE CONFIGURATION
# ===================================================================
# Path to the master changelog file
spring.liquibase.change-log=classpath:/db/changelog/db.changelog-master.xml

# Enable Liquibase for database migrations
spring.liquibase.enabled=true

# ===================================================================
# REDIS CACHE CONFIGURATION
# ===================================================================
# Redis server host (localhost for development, 'redis' for Docker)
spring.data.redis.host=localhost

# Redis server port
spring.data.redis.port=6379

# Connection timeout in milliseconds (60 seconds)
spring.data.redis.timeout=60000

# Cache type (redis for production-grade caching)
spring.cache.type=redis

# Cache time-to-live in milliseconds (2 hours = 7200000ms)
spring.cache.redis.time-to-live=7200000

# ===================================================================
# EXTERNAL API CONFIGURATION
# ===================================================================
# Fixer.io API settings
# URL: Base URL for Fixer.io API
api.fixer.url=https://data.fixer.io/api

# Key: API key for authentication (use environment variable in production)
api.fixer.key=${FIXER_API_KEY:your-fixer-api-key}

# ExchangeRatesAPI.io settings
# URL: Base URL for ExchangeRatesAPI.io
api.exchangeratesapi.url=https://api.exchangeratesapi.io/v1

# Key: API key for authentication (use environment variable in production)
api.exchangeratesapi.key=${EXCHANGERATESAPI_KEY:your-exchangeratesapi-key}

# Mock Provider 1 (Fixer.io simulation)
# URL: Base URL for Mock Provider 1 (port 8091)
# In Docker: use service name 'mock-provider-1'
# In local dev: use 'localhost'
api.mock.provider1.url=${MOCK_PROVIDER_1_URL:http://localhost:8091}

# Mock Provider 2 (ExchangeRatesAPI simulation)
# URL: Base URL for Mock Provider 2 (port 8092)
# In Docker: use service name 'mock-provider-2'
# In local dev: use 'localhost'
api.mock.provider2.url=${MOCK_PROVIDER_2_URL:http://localhost:8092}

# ===================================================================
# SCHEDULING CONFIGURATION
# ===================================================================
# Cron expression for automatic exchange rate updates
# Format: second minute hour day month weekday
# Default: "0 0 * * * *" = every hour at minute 0
exchange.rates.update.cron=0 0 * * * *

# ===================================================================
# ACTUATOR CONFIGURATION
# ===================================================================
# Endpoints to expose via HTTP
# health: Application health status
# info: Application information
management.endpoints.web.exposure.include=health,info

# Show health details only when user is authorized
management.endpoint.health.show-details=when-authorized

# Enable default health indicators (disk space, ping, etc.)
management.health.defaults.enabled=true

# ===================================================================
# LOGGING CONFIGURATION
# ===================================================================
# Enable debug logging for Spring Security
logging.level.org.springframework.security=DEBUG

# Enable debug logging for custom security components
logging.level.com.currencyexchange.provider.security=DEBUG
